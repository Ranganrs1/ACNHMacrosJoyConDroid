{"version":3,"sources":["App.js","index.js"],"names":["MacroStates","LoadJson","path","a","async","res","fetch","then","response","json","generateButtonPress","button","onTime","offTime","count","name","macro","PlayerButton","props","divStyle","background","iconStyle","selected","filter","className","id","style","onClick","e","clickHandler","src","alt","MacroButton","index","ProgressBar","width","percentage","KeyLog","key","ind","pressedKey","start","duration","CheckBox","state","handleChange","bind","event","this","onChange","paramKey","target","checked","type","React","Component","IntegerInput","value","Math","min","currentTarget","max","parseInt","readOnly","readonly","DropDownList","options","map","string","toString","renderOptions","ParameterInput","active","params","parameters","daysToAdvance","eventHandler","dateFormat","getFirst","attempts","waitTime","eggCycles","ability","eggsInBox","InfoOverlay","display_style","display","show","sections","i","length","section","title","text","onMouseDown","onTouchStart","JSONManeger","segments","FstSkip","filename","object","FstSkipUS","FstSkipCHN","AdvDay","AdvDayUS","AdvDayCHN","LotoID","Universal","UniversalUS","UniversalCHN","OpenBox","SelectInBox","PlaceInBox","StartWonder","EndWonder","Hatching","entries","Object","loadedCount","segmentCount","loadConcluded","loadMacro","segment","console","log","JSON","parse","stringify","MacroBuilder","jsonM","icon","jsonManager","macroJSON","paramHandlers","info","handler","getMacro","concat","TimeSkipMacroBuilder","currentFormat","onDaysToAdvanceChange","onDateFormatChange","text1","days","format","concatToMacro","InitMacro","months","floor","total","AdvanceDay","Macro","LotoIDMacroBuilder","onAttemptsChange","onGetFirstChange","bool","counter","EggHatcherMacroBuilder","eggCharm","onEggCyclesChange","onHasAbilityChange","onEggsInBoxChange","cycles","cColumn","cRow","tColumn","tRow","dx","dy","eggsInParty","time","sX","sY","cX","cY","InBoxSegment","HatchSegment","CraftingMacroBuilder","onCountChange","onWaitTimeChange","text2","commands","onWait","runner","totalSteps","currentOverallStep","totalTime","j","subTotal","f","abort","steps","reps","k","step","command","makeCommand","strength","angle","reset","block","undefined","l","push","timedCommand","args","o","apply","next","x","coroutine","pressed","blocking","setTimeout","issueCommand","obj","clearTimeout","waitTimeout","seg","MacroPlayer","selectedMacro","playState","macroProgress","builders","macroCount","dirtyMacro","Array","fill","macros","selectMacro","changeParameter","concluded","buildMacro","Audio","play","currentMacro","isDirty","startRunner","macroState","dataArray","builder","getRenderData","build","macroBuilders","macroParamsDirty","checkLoadConcluded","runResult","done","progress","KeyLogger","keys","pendingLog","b","y","lsl","lsr","r","rsl","rsr","plus","minus","up","right","left","down","left_stick","right_stick","left_stick_dir","right_stick_dir","home","startTime","log_count","addLogEntry","entry","pressedKeys","Date","getTime","pressKey","releaseKey","render","keyData","keyLogs","App","onButtonEvent","parameterChange","macroPlayer","keyLogger","currentTime","displayInfo","UpdateTimerId","setInterval","update","clearInterval","setState","getMacroState","handleSwitchJoySticks","handleSwitchKeys","pause","getPressed","clear","joystick","rads","PI","degToRad","window","joyconJS","onRightJoystick","onLeftJoystick","onMinus","onLeftJoystickPressed","onUp","onRight","onDown","onLeft","onL","onLeftSL","onLeftSR","onPlus","onA","onB","onX","onY","onR","onRightSL","onRightSR","onRightJoystickPressed","onHome","data","getAllMacroData","isSelected","getCurrentMacroData","renderPressed","logging","renderLogged","renderMacros","renderParameters","renderInfo","current","backgroundImage","color","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.98be5444.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\n//\n// - Constants and Globals\n//\n\nconst MacroStates = {\n\tINACTIVE: 0,\n\tPLAYING:  1,\n\tPAUSED:   2,\n\tFINISHED: 3\n}\n\n//\n// - AUX Functions\n//\n\nfunction degToRad(angle) {\n\treturn angle * (Math.PI / 180);\n}\n\nasync function LoadJson(path) {\n\tvar res = null;\n\n\tres = await fetch(path).then(response => { return response.json(); } );\n\n\treturn res;\n}\n\nfunction generateButtonPress(button, onTime, offTime, count) {\n\treturn [\n\t\t{\n\t\t\tname: \"Press \" + button,\n\t\t\tmacro: [\n\t\t\t\t{\n\t\t\t\t\tbutton  : button,\n\t\t\t\t\tonTime  : onTime,\n\t\t\t\t\toffTime : offTime,\n\t\t\t\t\tcount   : 1\n\t\t\t\t}\n\t\t\t],\n\t\t\tcount: count\n\t\t}\n\t];\n}\n\n/*function generateJoystickPush(side, onTime, offTime, strength, angle) {\n\tif(side !== \"left\" && side !== \"right\") return [];\n\n\treturn [\n\t\t{\n\t\t\tname: \"Push \" + side + \" analog stick\",\n\t\t\tmacro: [\n\t\t\t\t{\n\t\t\t\t\tbutton   : side + \"_stick_dir\",\n\t\t\t\t\tonTime   : onTime,\n\t\t\t\t\toffTime  : offTime,\n\t\t\t\t\tcount    : 1,\n\t\t\t\t\tstrength : strength,\n\t\t\t\t\tangle    : angle\n\t\t\t\t}\n\t\t\t],\n\t\t\tcount: 1\n\t\t}\n\t];\n}\n*/\n\n//\n// - React Components\n//\n\nfunction PlayerButton(props) {\n\tvar divStyle = { background : \"#FFF\" };\n\tvar iconStyle = {};\n\n\tif(props.selected) {\n\t\tdivStyle  = { background : \"#000\" };\n\t\ticonStyle = { filter : \"invert(1)\" };\n\t}\n\n\treturn (\n\t\t<div className = \"player-button\" id = {props.name} style = {divStyle}\n\t\t\tonClick = {e => props.clickHandler()} >\n\t\t\t<img className = \"icon\" src = {props.src} alt = {props.name + \" Button Icon\"}\n\t\t\t\tstyle = {iconStyle} />\n\t\t</div>\n\t);\n}\n\nfunction MacroButton(props) {\n\tvar style = { background : \"white\" };\n\tif(props.selected) style = {background : \"black\"};\n\n\treturn (\n\t\t<div className = \"macro\">\n\t\t\t<div className = \"macro-button\" id = {props.name} style = {style}\n\t\t\t\tonClick = {e => props.clickHandler(props.index)}>\n\t\t\t\t<img className = \"icon\" src = {props.src} alt = {\"Icon \" + props.name}/>\n\t\t\t</div>\n\t\t\t<label className = \"macro-button-label\">\n\t\t\t\t{props.name}\n\t\t\t</label>\n\t\t</div>\n\t);\n}\n\nfunction ProgressBar(props) {\n\tconst width = { width : `${props.percentage}%` };\n\n\treturn (\n\t\t<div className = \"progress-bar\">\n\t\t\t<div className = \"filler\" style = {width} />\n\t\t</div>\n\t);\n}\n\nfunction KeyLog(props) {\n\treturn (\n\t\t<div key = {props.ind} className = \"key-log\">\n\t\t\t<b className = \"key-log-cell\"> {props.index} </b>\n\t\t\t<b className = \"key-log-cell\"> {props.pressedKey} </b>\n\t\t\t<b className = \"key-log-cell\"> {props.start} </b>\n\t\t\t<b className = \"key-log-cell\"> {props.duration} </b>\n\t\t</div>\n\t);\n}\n\nclass CheckBox extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\treturn this.props.onChange(this.props.paramKey, event.target.checked);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<input type = \"checkbox\" checked = {this.props.checked} onChange = {this.handleChange} />\n\t\t);\n\t}\n}\n\nclass IntegerInput extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tif(event.target.value === \"\") {\n\t\t\tthis.props.onChange(1);\n\t\t\treturn;\n\t\t}\n\n\t\tlet value = Math.min(event.currentTarget.value, this.props.max);\n\n\t\tthis.props.onChange(parseInt(value));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<input type = \"number\" className = \"integer-input\"\n\t\t\treadOnly = {this.props.readonly}\n\t\t\tvalue = {this.props.value} onChange = {this.handleChange}\n\t\t\tmax = {this.props.max} min = {this.props.min}/>\n\t\t);\n\t}\n}\n\nclass DropDownList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tif(event.target.value === \"\") {\n\t\t\tthis.props.onChange(0);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.onChange(parseInt(event.currentTarget.value));\n\t}\n\n\trenderOptions() {\n\t\treturn this.props.options.map((string, index) => {\n\t\t\treturn (\n\t\t\t\t<option key = {\"option\" + index.toString()} value={index}>{string}</option>\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\tlet options = this.renderOptions();\n\n\t\treturn (\n\t\t\t<select className = \"drop-down-list\" onChange = {this.handleChange}>\n\t\t\t  {options}\n\t\t\t</select>\n\t\t);\n\t}\n}\n\nclass ParameterInput extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {active : false};\n\t}\n\n\trender() {\n\t\tvar params = this.props.parameters;\n\n\t\tswitch(this.props.macro) {\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"DefaultParams\">\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tcase \"Time Skip\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"TimeSkipParams\">\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tSkip Count\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<IntegerInput id = \"daysToAdvance\" name = \"days-to-advance\"\n\t\t\t\t\t\t\t\t\tvalue = {params.daysToAdvance}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"daysToAdvance\", value)}\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"10000\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tDate Format\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\n\t\t\t\t\t\t\t\t\tvalue    = {params.dateFormat}\n\t\t\t\t\t\t\t\t\toptions  = {[\"World\", \"US\", \"Chinese\"]}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tcase \"Loto ID\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"LottoIDParams\">\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tFirst Day Loto\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<CheckBox id = \"firstDayLoto\" name = \"first-day-loto\"\n\t\t\t\t\t\t\t\t\tchecked = {params.getFirst}\n\t\t\t\t\t\t\t\t\tparamKey = \"getFirst\"\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tAttempts\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<IntegerInput id = \"Attempts\" name = \"lotto-id-attempts\"\n\t\t\t\t\t\t\t\t\tvalue = {params.attempts}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"attempts\", value)}\n\t\t\t\t\t\t\t\t\tmin = \"0\" max = \"10000\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tDate Format\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\n\t\t\t\t\t\t\t\t\tvalue = {params.dateFormat}\n\t\t\t\t\t\t\t\t\toptions = {[\"World\", \"US\", \"Chinese\"]}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tcase \"Wonder Box\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"WonderBoxParams\">\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tCount\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeCount\" name = \"wonder-trade-count\"\n\t\t\t\t\t\t\t\t\tvalue = {params.count}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"count\", value)}\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"30\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tWait Time\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeWaitTime\" name = \"wonder-trade-wait-time\"\n\t\t\t\t\t\t\t\t\tvalue = {params.waitTime}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"waitTime\", value)}\n\t\t\t\t\t\t\t\t\tmin = \"2\" max = \"600\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tcase \"Egg Hatcher\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"EggHatcherParams\">\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tEgg Cycles\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<DropDownList id = \"eggCycles\" name = \"egg-cycles\"\n\t\t\t\t\t\t\t\t\tvalue    = {params.eggCycles.toString()}\n\t\t\t\t\t\t\t\t\toptions  = {[\"5\", \"10\", \"15\", \"20\", \"25\", \"30\", \"35\", \"40\"]}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"eggCycles\", value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tHatching Ability\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<CheckBox id = \"hasHatchAbility\" name = \"hatch-ability\"\n\t\t\t\t\t\t\t\t\tchecked  = {params.ability}\n\t\t\t\t\t\t\t\t\tparamKey = \"ability\"\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = \"parameters-entry\">\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\n\t\t\t\t\t\t\t\tEggs in Box\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className = \"parameter\">\n\t\t\t\t\t\t\t\t<IntegerInput id = \"eggsInBox\" name = \"eggs-in-box\"\n\t\t\t\t\t\t\t\t\tvalue = {params.eggsInBox}\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"eggsInBox\", value)}\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"30\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t}\n\t}\n}\n\nclass InfoOverlay extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\trender() {\n\t\tvar display_style = {display : \"none\"};\n\t\tif(this.props.show) display_style.display = \"flex\";\n\n\t\tvar sections = [];\n\n\t\tvar i = 0;\n\t\tfor(; i < this.props.sections.length; i++) {\n\t\t\tvar section = this.props.sections[i];\n\n\t\t\tsections[i] = (\n\t\t\t\t<div className = \"infoSection\" key = {\"infoSect_\" + i.toString()}>\n\t\t\t\t\t<h2 className = \"infoSectionTitle\"> {section.title} </h2>\n\t\t\t\t\t{section.text}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div id = \"infoOverlay\" className = \"info-overlay\" style = {display_style}>\n\t\t\t\t<div id = \"infoOverlayOut\" onMouseDown  = {this.props.onMouseDown} onTouchStart = {this.props.onTouchStart}>\n\t\t\t\t</div>\n\t\t\t\t<div id = \"infoTextBox\" className = \"text-box\">\n\t\t\t\t\t<h1 className = \"infoTextTitle\"> {this.props.title} </h1>\n\t\t\t\t\t\t{sections}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n//\n// - Back End Elements\n//\n\nfunction coroutine(f, args) {\n\tvar o = f.apply(args);\n\n\to.next();\n\n\treturn function(x) {\n\t\treturn o.next(x);\n\t}\n}\n\nclass JSONManeger {\n\tconstructor() {\n\t\tthis.segments = {\n\t\t\tFstSkip      : {filename: \"FirstSkip.json\",           object: \"\"},\n\t\t\tFstSkipUS    : {filename: \"FirstSkipUS.json\",         object: \"\"},\n\t\t\tFstSkipCHN   : {filename: \"FirstSkipCHN.json\",        object: \"\"},\n\t\t\tAdvDay       : {filename: \"AdvanceDay.json\",          object: \"\"},\n\t\t\tAdvDayUS     : {filename: \"AdvanceDayUS.json\",        object: \"\"},\n\t\t\tAdvDayCHN    : {filename: \"AdvanceDayCHN.json\",       object: \"\"},\n\t\t\tLotoID       : {filename: \"LotoID.json\",              object: \"\"},\n\t\t\tUniversal    : {filename: \"UniversalSkip.json\",       object: \"\"},\n\t\t\tUniversalUS  : {filename: \"UniversalSkipUS.json\",     object: \"\"},\n\t\t\tUniversalCHN : {filename: \"UniversalSkipCHN.json\",    object: \"\"},\n\t\t\tOpenBox      : {filename: \"OpenBox.json\",             object: \"\"},\n\t\t\tSelectInBox  : {filename: \"SelectInBox.json\",         object: \"\"},\n\t\t\tPlaceInBox   : {filename: \"PlaceInBox.json\",          object: \"\"},\n\t\t\tStartWonder  : {filename: \"StartWonderTrade.json\",    object: \"\"},\n\t\t\tEndWonder    : {filename: \"ConcludeWonderTrade.json\", object: \"\"},\n\t\t\tHatching     : {filename: \"Hatching.json\",            object: \"\"}\n\t\t};\n\n\t\tvar entries = Object.entries(this.segments);\n\n\t\tthis.loadedCount = 0;\n\t\tthis.segmentCount = entries.length;\n\t\tthis.loadConcluded = false;\n\n\t\tlet i = 0;\n\t\tfor(; i < this.segmentCount; i++) {\n\t\t\tthis.loadMacro(entries[i][0]);\n\t\t}\n\t}\n\n\tasync loadMacro(key) {\n\t\tvar segment = this.segments[key];\n\n\t\tsegment.object = await LoadJson(\"./macros/\" + segment.filename);\n\n\t\tthis.loadedCount += 1;\n\n\t\tif(this.loadedCount === this.segmentCount) {\n\t\t\tthis.loadConcluded = true;\n\t\t\tconsole.log(\"JSON Load Concluded\");\n\t\t}\n\t}\n\n\tgetMacro(key) {\n\t\tvar segment = this.segments[key];\n\t\tvar copy = JSON.parse(JSON.stringify(segment.object));\n\t\treturn copy;\n\t}\n}\n\n//\n// - Macro Builders\n//\n\nclass MacroBuilder {\n\tconstructor(jsonM, name, icon) {\n\t\tthis.jsonManager = jsonM;\n\n\t\tthis.name = name;\n\t\tthis.icon = icon;\n\n\t\tthis.macro = 0;\n\t\tthis.macroJSON = [];\n\n\t\tthis.parameters = {};\n\t\tthis.paramHandlers = {};\n\n\t\tthis.info = [];\n\t}\n\n\tchangeParameter(key, value) {\n\t\tlet handler = this.paramHandlers[key];\n\n\t\treturn handler(value);\n\t}\n\n\tgetMacro(key) {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\treturn this.jsonManager.getMacro(key);\n\t}\n\n\tconcatToMacro(segment) {\n\t\tthis.macroJSON = this.macroJSON.concat(segment);\n\t}\n\n\t// Render\n\tgetRenderData() {\n\t\treturn {\n\t\t\tname : this.name,\n\t\t\ticon : this.icon,\n\t\t\tparameters : this.parameters,\n\t\t\tinfo : this.info\n\t\t};\n\t}\n}\n\nclass TimeSkipMacroBuilder extends MacroBuilder {\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Time Skip\", \"./images/timeskip_icon.png\");\n\n\t\t// Init Parameters\n\t\tthis.parameters.daysToAdvance = 1;\n\t\tthis.parameters.dateFormat    = 0;\n\n\t\tthis.currentFormat = \"\";\n\n\t\tthis.onDaysToAdvanceChange = this.onDaysToAdvanceChange.bind(this);\n\t\tthis.onDateFormatChange    = this.onDateFormatChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\tdaysToAdvance : this.onDaysToAdvanceChange,\n\t\t\tdateFormat    : this.onDateFormatChange\n\t\t};\n\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>2-</b> The <b>Date</b> in <b>Console Settings</b> must be the first of any 31 day month.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>3-</b> Set <b>Skip Count</b> to the number of days to advance.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>4-</b> Set <b>Date Format</b> to match your console's format.\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"SetUp\",\n\t\t\t\ttext: text1\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"How it works\",\n\t\t\t\ttext: \"The frame of the seed will advance with each time the date is advanced. This means that we can just change the day, with the only downside being that when returning to the first of the month no advancement will happen. The macro takes this into account and adds repetitions so that in the end the correct number of skips is achieved.\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Recommendations\",\n\t\t\t\ttext: \"Avoid doing many skips in the Wild Area as this is known to sometimes result in game crashes. Use this macro indoors.\"\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonDaysToAdvanceChange(days) {\n\t\tif(this.parameters.daysToAdvance !== days) {\n\t\t\tthis.parameters.daysToAdvance = days;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonDateFormatChange(format) {\n\t\tif(this.parameters.dateFormat !== format) {\n\t\t\tthis.parameters.dateFormat = format;\n\n\t\t\tswitch(format) {\n\t\t\t\tdefault:\n\t\t\t\tcase 0: // WORLD\n\t\t\t\t\tthis.currentFormat = \"\";\n\t\t\t\tbreak;\n\n\t\t\t\tcase 1: // US\n\t\t\t\t\tthis.currentFormat = \"US\";\n\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // Chinese\n\t\t\t\t\tthis.currentFormat = \"CHN\";\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Build Macro\n\tAdvanceDay(days) {\n\t\tvar macro = this.getMacro(\"AdvDay\" + this.currentFormat);\n\n\t\tmacro[0].count = days;\n\n\t\tthis.concatToMacro(macro);\n\t}\n\n\tInitMacro() {\n\t\tthis.concatToMacro(this.getMacro(\"FstSkip\" + this.currentFormat));\n\t}\n\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\n\t\tthis.InitMacro();\n\n\t\tvar count = this.parameters.daysToAdvance - 1;\n\n\t\t// If more than 1 skip\n\t\tif(count > 0) {\n\t\t\t// Calculate the number of macro repetitions\n\t\t\tlet months = Math.floor(count / 31);\n\t\t\tlet total  = count + months + Math.floor(months / 31);\n\n\t\t\t// Advance the adjustment\n\t\t\twhile(total > 0) {\n\t\t\t\tthis.AdvanceDay(Math.min(31, total));\n\n\t\t\t\ttotal -= 31;\n\n\t\t\t\tif(total > 0) {\n\t\t\t\t\tthis.concatToMacro(generateButtonPress(\"down\", 120, 240, 2));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.concatToMacro(generateButtonPress(\"home\", 100, 1000, 2));\n\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n\nclass LotoIDMacroBuilder extends MacroBuilder {\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Loto ID\", \"./images/lotoid_icon.png\");\n\n\t\tthis.parameters.attempts  = 1;\n\t\tthis.parameters.getFirst  = true;\n\t\tthis.parameters.dateFormat = 0;\n\n\t\tthis.currentFormat = \"\";\n\n\t\tthis.onAttemptsChange = this.onAttemptsChange.bind(this);\n\t\tthis.onGetFirstChange = this.onGetFirstChange.bind(this);\n\t\tthis.onDateFormatChange = this.onDateFormatChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\tattempts   : this.onAttemptsChange,\n\t\t\tgetFirst   : this.onGetFirstChange,\n\t\t\tdateFormat : this.onDateFormatChange\n\t\t};\n\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>2-</b> Position the character in front of the PC, facing it.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>3-</b> Check the <b>First Day Loto</b> box only if you have the Loto still available.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>4-</b> Set <b>Attempts</b> to how many times you want to try the Loto.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>5-</b> Set <b>Date Format</b> to the your Switch's region date format.\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"SetUp\",\n\t\t\t\ttext: text1\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonAttemptsChange(count) {\n\t\tif(this.parameters.attempts !== count) {\n\t\t\tthis.parameters.attempts = count;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonGetFirstChange(bool) {\n\t\tif(this.parameters.getFirst !== bool) {\n\t\t\tthis.parameters.getFirst = bool;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonDateFormatChange(format) {\n\t\tif(this.parameters.dateFormat !== format) {\n\t\t\tthis.parameters.dateFormat = format;\n\n\t\t\tswitch(format) {\n\t\t\t\tdefault:\n\t\t\t\tcase 0: // WORLD\n\t\t\t\t\tthis.currentFormat = \"\";\n\t\t\t\tbreak;\n\n\t\t\t\tcase 1: // US\n\t\t\t\t\tthis.currentFormat = \"US\";\n\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // Chinese\n\t\t\t\t\tthis.currentFormat = \"CHN\";\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Build Macro\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\n\t\tvar counter = 0;\n\n\t\tif(this.parameters.getFirst) {\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\n\n\t\t\tcounter = 1;\n\t\t}\n\n\t\t// While End Date has not been reached\n\t\twhile(counter < this.parameters.attempts) {\n\t\t\tthis.concatToMacro(this.getMacro(\"Universal\" + this.currentFormat));\n\t\t\tcounter++;\n\n\t\t\tthis.concatToMacro(generateButtonPress(\"home\", 100, 1000, 2));\n\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\n\t\t}\n\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n\n/*class WonderBoxMacroBuilder extends MacroBuilder {\n\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Wonder Box\", \"./images/wonderbox_icon.png\");\n\n\t\tthis.parameters.count    = 1;\n\t\tthis.parameters.waitTime = 25;\n\n\t\tthis.onCountChange    = this.onCountChange.bind(this);\n\t\tthis.onWaitTimeChange = this.onWaitTimeChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\tcount  : this.onCountChange,\n\t\t\twaitTime : this.onWaitTimeChange\n\t\t};\n\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\t<b>1-</b> In-Game, open your PC and go to the box with the pokemon to be wonder traded.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>2-</b> Make sure there are no empty spots between pokemon.\n\t\t\t\tThe macro will start trading from the top left corner and go left to right, top to bottom.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>3-</b> Exit all menus.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>4-</b> Set the <b>Count</b> parameter to how many pokemon you want to trade away from that box.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>4-</b> Set the <b>Wait Time</b> parameter to how many <b>seconds</b> the macro should wait for the Wonder Trade to complete.\n\t\t\t</p>\n\t\t);\n\n\t\tvar text2 = (\n\t\t\t<p>\n\t\t\t\tWhen running this macro, the time for a trade to go through can vary a lot.\n\t\t\t\tBecause of this, you may need to adjust the <b>Wait Time</b>. It can go up to 10 minutes (600 s),\n\t\t\t\tor as low as 2 seconds.\n\t\t\t\t<br/>\n\t\t\t\tIf it is too erratic and you want to be more efficient, you can set the value relatively low and\n\t\t\t\tpress pause after the search for a trade starts and press play to resume the macro when you see\n\t\t\t\tit has finished.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\tIt is also very important to make sure you have the correct box selected at the start of the macro.\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"SetUp\",\n\t\t\t\ttext: text1\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Recommendations\",\n\t\t\t\ttext: text2\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonCountChange(count) {\n\t\tif(this.parameters.count !== count) {\n\t\t\tthis.parameters.count = count;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonWaitTimeChange(time) {\n\t\tif(this.parameters.waitTime !== time) {\n\t\t\tthis.parameters.waitTime = time;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Build Macro\n\tSelectInBox(column, row) {\n\t\tvar segments = this.getMacro(\"SelectInBox\");\n\n\t\tlet dx = column;\n\t\tlet dy = row;\n\n\t\tif(dx > 0) {\n\t\t\tsegments[0].macro[0].count = dx;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[1].count = -1 * dx;\n\t\t}\n\n\t\tif(dy > 0) {\n\t\t\tsegments[0].macro[2].count = dy;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[3].count = -1 * dy;\n\t\t}\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tConcludeTrade() {\n\t\tvar segments = this.getMacro(\"EndWonder\");\n\n\t\tsegments[0].macro[2].offTime = this.parameters.waitTime * 1000;\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\n\t\tvar count  = 0;\n\t\tvar row    = 0;\n\t\tvar column = 0;\n\n\t\tfor(; row < 5; row++) {\n\t\t\tfor(column = 0; column < 6; column++) {\n\t\t\t\tthis.concatToMacro(this.getMacro(\"StartWonder\"));\n\n\t\t\t\tthis.SelectInBox(column, row);\n\n\t\t\t\tthis.ConcludeTrade();\n\n\t\t\t\tcount++;\n\t\t\t\tif(count >= this.parameters.count) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(count >= this.parameters.count) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n\nclass EggHatcherMacroBuilder extends MacroBuilder {\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Egg Hatcher\", \"./images/egghatcher_icon.png\");\n\n\t\tthis.parameters.eggCycles = 5;\n\t\tthis.parameters.ability   = false;\n\t\tthis.parameters.eggCharm  = false;\n\t\tthis.parameters.eggsInBox = 1;\n\n\t\tthis.onEggCyclesChange   = this.onEggCyclesChange.bind(this);\n\t\tthis.onHasAbilityChange  = this.onHasAbilityChange.bind(this);\n\t\tthis.onEggsInBoxChange   = this.onEggsInBoxChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\teggCycles : this.onEggCyclesChange,\n\t\t\tability   : this.onHasAbilityChange,\n\t\t\teggsInBox : this.onEggsInBoxChange\n\t\t};\n\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\t<b>1-</b> Open your PC and navigate to the Box with the eggs. Make sure that the box was filled from up to down, left to right.\n\t\t\t\tThis means the eggs should be placed column per column not row per row as is normal, if the box is full this doesn't matter.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>2-</b> You must leave the <b>Pokmon</b> option selected when exiting the game's menu.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>3-</b> When starting the macro, the <b>Player Character</b> must be near the <b>Nursery</b> at the Wild Area and not on the bike.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>4-</b> Set the <b>Egg Cycles</b> parameter to how many cycles the egg takes to hatch, this can be checked on sites like Bulbapedia.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>5-</b> Check the <b>Hatch Ability</b> box if the first pokemon in the party has one of the following abilities: Flame Body, Magma Armor or Steam Engine.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>6-</b> Set the <b>Eggs in Box</b> parameter to how many eggs you have in the box to be hatched.\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"SetUp\",\n\t\t\t\ttext: text1\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonEggCyclesChange(cycles) {\n\t\tcycles = 5 * (parseInt(cycles) + 1);\n\n\t\tif(this.parameters.eggCycles !== cycles) {\n\t\t\tthis.parameters.eggCycles = cycles;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonHasAbilityChange(bool) {\n\t\tif(this.parameters.ability !== bool) {\n\t\t\tthis.parameters.ability = bool;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonEggsInBoxChange(count) {\n\t\tif(this.parameters.eggsInBox !== count) {\n\t\t\tthis.parameters.eggsInBox = count;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Build Macro\n\tInBoxSegment(type, cColumn, cRow, tColumn, tRow) {\n\t\tvar segments = this.getMacro(type + \"InBox\");\n\n\t\tlet dx = tColumn - cColumn;\n\t\tlet dy = tRow - cRow;\n\n\t\tif(dx > 0) {\n\t\t\tsegments[0].macro[0].count = dx;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[1].count = -1 * dx;\n\t\t}\n\n\t\tif(dy > 0) {\n\t\t\tsegments[0].macro[2].count = dy;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[3].count = -1 * dy;\n\t\t}\n\n\t\tif(type === \"Select\") {\n\t\t\tsegments[0].macro[6].offTime = 600;\n\t\t}\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tHatchSegment(eggsInParty) {\n\t\tlet segments = this.getMacro(\"Hatching\");\n\n\t\t// Calculate steps to hatch egg\n\t\tlet cycles = this.parameters.eggCycles;\n\t\tif(this.parameters.ability) cycles = cycles / 2;\n\n\t\t// Calculate time to hatch\n\t\tlet time = cycles * 6400;\n\n\t\tsegments[0].macro[2].onTime = time;\n\t\tsegments[0].macro[3].onTime = time;\n\n\t\tsegments[1].count = eggsInParty;\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\n\t\tlet count  = 0;\n\n\t\tlet sX = 0;\n\n\t\twhile(count < this.parameters.eggsInBox) {\n\t\t\tthis.concatToMacro(this.getMacro(\"OpenBox\"));\n\n\t\t\t// Get Eggs into the Party\n\t\t\tlet sY = 0;\n\n\t\t\tlet cX = 0;\n\t\t\tlet cY = 0;\n\n\t\t\twhile(sY < 5 && count < this.parameters.eggsInBox) {\n\t\t\t\tthis.InBoxSegment(\"Select\", cX, cY, sX, sY);\n\n\t\t\t\tcX = sX;\n\t\t\t\tcY = sY;\n\n\t\t\t\tthis.InBoxSegment(\"Place\", cX, cY, -1, 1 + sY);\n\n\t\t\t\tcX = -1;\n\t\t\t\tcY = 1 + sY;\n\n\t\t\t\tsY++;\n\n\t\t\t\tcount++;\n\t\t\t}\n\n\t\t\tsX++;\n\n\t\t\t// Exit PC to Menu\n\t\t\tthis.concatToMacro(generateButtonPress(   \"b\", 180, 1480, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(   \"b\", 180, 1720, 1));\n\n\t\t\t// Select Map\n\t\t\tthis.concatToMacro(generateButtonPress(\"left\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(\"down\", 180,  240, 1));\n\n\t\t\t// Recenter at Nursery\n\t\t\tthis.concatToMacro(generateButtonPress(   \"a\", 180, 2400, 3));\n\n\t\t\t// Hatch Eggs\n\t\t\tthis.HatchSegment(sY);\n\n\t\t\t// Select the PC\n\t\t\tthis.concatToMacro(generateButtonPress(    \"x\", 180,  840, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(\"right\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(   \"up\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(    \"b\", 180, 1720, 1));\n\t\t\tthis.concatToMacro(generateButtonPress( \"plus\", 180, 1200, 1));\n\t\t}\n\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n\nclass BreedingMacroBuilder extends MacroBuilder {\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Breeding\", \"./images/egghatcher_icon.png\");\n\n\t\tthis.parameters.eggCycles = 5;\n\t\tthis.parameters.ability   = false;\n\t\tthis.parameters.eggCharm  = false;\n\n\t\tthis.onEggCyclesChange   = this.onEggCyclesChange.bind(this);\n\t\tthis.onHasAbilityChange  = this.onHasAbilityChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\teggCycles : this.onEggCyclesChange,\n\t\t\tability   : this.onHasAbilityChange\n\t\t};\n\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\t<b>1-</b> Open your PC and navigate to the Box with the eggs. Make sure that the box was filled from up to down, left to right.\n\t\t\t\tThis means the eggs should be placed column per column not row per row as is normal, if the box is full this doesn't matter.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>2-</b> You must leave the <b>Pokmon</b> option selected when exiting the game's menu.\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"SetUp\",\n\t\t\t\ttext: text1\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonEggCyclesChange(cycles) {\n\t\tcycles = 5 * (parseInt(cycles) + 1);\n\n\t\tif(this.parameters.eggCycles !== cycles) {\n\t\t\tthis.parameters.eggCycles = cycles;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonHasAbilityChange(bool) {\n\t\tif(this.parameters.ability !== bool) {\n\t\t\tthis.parameters.ability = bool;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Build Macro\n\tHatchSegment() {\n\t\tlet segments = this.getMacro(\"Hatching\");\n\n\t\t// Calculate steps to hatch egg\n\t\tlet cycles = this.parameters.eggCycles;\n\t\tif(this.parameters.ability) cycles = cycles / 2;\n\n\t\t// Calculate time to hatch\n\t\tlet time = cycles * 6400;\n\n\t\tsegments[0].macro[2].onTime = time;\n\t\tsegments[0].macro[3].onTime = time;\n\n\t\tsegments[1].count = 1;\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tBackToNursery() {\n\t\t// Open Menu\n\t\tthis.concatToMacro(generateButtonPress(   \"x\", 180, 1480, 1));\n\n\t\t// Select Map\n\t\tthis.concatToMacro(generateButtonPress(\"left\", 180,  240, 1));\n\t\tthis.concatToMacro(generateButtonPress(\"down\", 180,  240, 1));\n\n\t\t// Recenter at Nursery\n\t\tthis.concatToMacro(generateButtonPress(   \"a\", 180, 2400, 3));\n\t}\n\n\tPickUpEgg() {\n\t\t// Get Off Bike\n\t\tthis.concatToMacro(generateButtonPress(\"plus\", 120, 360, 1));\n\n\t\t// Walk towards breeder\n\t\tthis.concatToMacro(generateJoystickPush(\"left\", 3000, 240, 100, 270));\n\n\t\t// Rotate to breeder\n\t\tthis.concatToMacro(generateJoystickPush(\"left\",  500, 120, 100, 180));\n\n\t\t// Dialogue up to select pokemon to swap\n\t\tthis.concatToMacro(generateButtonPress(   \"a\", 1000, 120, 5));\n\n\t\t// Select just hatched pokemon\n\t\tthis.concatToMacro(generateButtonPress(\"down\",  240, 120, 1));\n\n\t\t// Finish dialogue\n\t\tthis.concatToMacro(generateButtonPress(   \"a\", 1000, 120, 3));\n\t}\n\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\n\t\tlet count = 0;\n\n\t\twhile(count < this.parameters.eggsInBox) {\n\t\t\tthis.concatToMacro(this.getMacro(\"OpenBox\"));\n\n\t\t\t// Hatch Egg\n\t\t\tthis.HatchSegment();\n\n\t\t\t// Go back to the Nursery\n\t\t\tthis.BackToNursery();\n\n\t\t\t// Pick Up Egg\n\t\t\tthis.PickUpEgg();\n\n\t\t\t// Select the PC\n\t\t\tthis.concatToMacro(generateButtonPress(    \"x\", 180,  840, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(\"right\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(   \"up\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(    \"b\", 180, 1720, 1));\n\t\t\tthis.concatToMacro(generateButtonPress( \"plus\", 180, 1200, 1));\n\t\t}\n\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n*/\n\nclass EggHatcherMacroBuilder extends MacroBuilder {\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Egg Hatcher\", \"./images/egghatcher_icon.png\");\n\n\t\tthis.parameters.eggCycles = 5;\n\t\tthis.parameters.ability   = false;\n\t\tthis.parameters.eggCharm  = false;\n\t\tthis.parameters.eggsInBox = 1;\n\n\t\tthis.onEggCyclesChange   = this.onEggCyclesChange.bind(this);\n\t\tthis.onHasAbilityChange  = this.onHasAbilityChange.bind(this);\n\t\tthis.onEggsInBoxChange   = this.onEggsInBoxChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\teggCycles : this.onEggCyclesChange,\n\t\t\tability   : this.onHasAbilityChange,\n\t\t\teggsInBox : this.onEggsInBoxChange\n\t\t};\n\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\t<b>1-</b> Open your PC and navigate to the Box with the eggs. Make sure that the box was filled from up to down, left to right.\n\t\t\t\tThis means the eggs should be placed column per column not row per row as is normal, if the box is full this doesn't matter.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>2-</b> You must leave the <b>Pokmon</b> option selected when exiting the game's menu.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>3-</b> When starting the macro, the <b>Player Character</b> must be near the <b>Nursery</b> at the Wild Area and not on the bike.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>4-</b> Set the <b>Egg Cycles</b> parameter to how many cycles the egg takes to hatch, this can be checked on sites like Bulbapedia.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>5-</b> Check the <b>Hatch Ability</b> box if the first pokemon in the party has one of the following abilities: Flame Body, Magma Armor or Steam Engine.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>6-</b> Set the <b>Eggs in Box</b> parameter to how many eggs you have in the box to be hatched.\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"SetUp\",\n\t\t\t\ttext: text1\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonEggCyclesChange(cycles) {\n\t\tcycles = 5 * (parseInt(cycles) + 1);\n\n\t\tif(this.parameters.eggCycles !== cycles) {\n\t\t\tthis.parameters.eggCycles = cycles;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonHasAbilityChange(bool) {\n\t\tif(this.parameters.ability !== bool) {\n\t\t\tthis.parameters.ability = bool;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonEggsInBoxChange(count) {\n\t\tif(this.parameters.eggsInBox !== count) {\n\t\t\tthis.parameters.eggsInBox = count;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Build Macro\n\tInBoxSegment(type, cColumn, cRow, tColumn, tRow) {\n\t\tvar segments = this.getMacro(type + \"InBox\");\n\n\t\tlet dx = tColumn - cColumn;\n\t\tlet dy = tRow - cRow;\n\n\t\tif(dx > 0) {\n\t\t\tsegments[0].macro[0].count = dx;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[1].count = -1 * dx;\n\t\t}\n\n\t\tif(dy > 0) {\n\t\t\tsegments[0].macro[2].count = dy;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[3].count = -1 * dy;\n\t\t}\n\n\t\tif(type === \"Select\") {\n\t\t\tsegments[0].macro[6].offTime = 600;\n\t\t}\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tHatchSegment(eggsInParty) {\n\t\tlet segments = this.getMacro(\"Hatching\");\n\n\t\t// Calculate steps to hatch egg\n\t\tlet cycles = this.parameters.eggCycles;\n\t\tif(this.parameters.ability) cycles = cycles / 2;\n\n\t\t// Calculate time to hatch\n\t\tlet time = cycles * 6400;\n\n\t\tsegments[0].macro[2].onTime = time;\n\t\tsegments[0].macro[3].onTime = time;\n\n\t\tsegments[1].count = eggsInParty;\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\n\t\tlet count  = 0;\n\n\t\tlet sX = 0;\n\n\t\twhile(count < this.parameters.eggsInBox) {\n\t\t\tthis.concatToMacro(this.getMacro(\"OpenBox\"));\n\n\t\t\t// Get Eggs into the Party\n\t\t\tlet sY = 0;\n\n\t\t\tlet cX = 0;\n\t\t\tlet cY = 0;\n\n\t\t\twhile(sY < 5 && count < this.parameters.eggsInBox) {\n\t\t\t\tthis.InBoxSegment(\"Select\", cX, cY, sX, sY);\n\n\t\t\t\tcX = sX;\n\t\t\t\tcY = sY;\n\n\t\t\t\tthis.InBoxSegment(\"Place\", cX, cY, -1, 1 + sY);\n\n\t\t\t\tcX = -1;\n\t\t\t\tcY = 1 + sY;\n\n\t\t\t\tsY++;\n\n\t\t\t\tcount++;\n\t\t\t}\n\n\t\t\tsX++;\n\n\t\t\t// Exit PC to Menu\n\t\t\tthis.concatToMacro(generateButtonPress(   \"b\", 180, 1480, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(   \"b\", 180, 1720, 1));\n\n\t\t\t// Select Map\n\t\t\tthis.concatToMacro(generateButtonPress(\"left\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(\"down\", 180,  240, 1));\n\n\t\t\t// Recenter at Nursery\n\t\t\tthis.concatToMacro(generateButtonPress(   \"a\", 180, 2400, 3));\n\n\t\t\t// Hatch Eggs\n\t\t\tthis.HatchSegment(sY);\n\n\t\t\t// Select the PC\n\t\t\tthis.concatToMacro(generateButtonPress(    \"x\", 180,  840, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(\"right\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(   \"up\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(    \"b\", 180, 1720, 1));\n\t\t\tthis.concatToMacro(generateButtonPress( \"plus\", 180, 1200, 1));\n\t\t}\n\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n\n/*class BreedingMacroBuilder extends MacroBuilder {\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Breeding\", \"./images/egghatcher_icon.png\");\n\n\t\tthis.parameters.eggCycles = 5;\n\t\tthis.parameters.ability   = false;\n\t\tthis.parameters.eggCharm  = false;\n\n\t\tthis.onEggCyclesChange   = this.onEggCyclesChange.bind(this);\n\t\tthis.onHasAbilityChange  = this.onHasAbilityChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\teggCycles : this.onEggCyclesChange,\n\t\t\tability   : this.onHasAbilityChange\n\t\t};\n\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\t<b>1-</b> Open your PC and navigate to the Box with the eggs. Make sure that the box was filled from up to down, left to right.\n\t\t\t\tThis means the eggs should be placed column per column not row per row as is normal, if the box is full this doesn't matter.\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<b>2-</b> You must leave the <b>Pokmon</b> option selected when exiting the game's menu.\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"SetUp\",\n\t\t\t\ttext: text1\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonEggCyclesChange(cycles) {\n\t\tcycles = 5 * (parseInt(cycles) + 1);\n\n\t\tif(this.parameters.eggCycles !== cycles) {\n\t\t\tthis.parameters.eggCycles = cycles;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonHasAbilityChange(bool) {\n\t\tif(this.parameters.ability !== bool) {\n\t\t\tthis.parameters.ability = bool;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Build Macro\n\tHatchSegment() {\n\t\tlet segments = this.getMacro(\"Hatching\");\n\n\t\t// Calculate steps to hatch egg\n\t\tlet cycles = this.parameters.eggCycles;\n\t\tif(this.parameters.ability) cycles = cycles / 2;\n\n\t\t// Calculate time to hatch\n\t\tlet time = cycles * 6400;\n\n\t\tsegments[0].macro[2].onTime = time;\n\t\tsegments[0].macro[3].onTime = time;\n\n\t\tsegments[1].count = 1;\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tBackToNursery() {\n\t\t// Open Menu\n\t\tthis.concatToMacro(generateButtonPress(   \"x\", 180, 1480, 1));\n\n\t\t// Select Map\n\t\tthis.concatToMacro(generateButtonPress(\"left\", 180,  240, 1));\n\t\tthis.concatToMacro(generateButtonPress(\"down\", 180,  240, 1));\n\n\t\t// Recenter at Nursery\n\t\tthis.concatToMacro(generateButtonPress(   \"a\", 180, 2400, 3));\n\t}\n\n\tPickUpEgg() {\n\t\t// Get Off Bike\n\t\tthis.concatToMacro(generateButtonPress(\"plus\", 120, 360, 1));\n\n\t\t// Walk towards breeder\n\t\tthis.concatToMacro(generateJoystickPush(\"left\", 3000, 240, 100, 270));\n\n\t\t// Rotate to breeder\n\t\tthis.concatToMacro(generateJoystickPush(\"left\",  500, 120, 100, 180));\n\n\t\t// Dialogue up to select pokemon to swap\n\t\tthis.concatToMacro(generateButtonPress(   \"a\", 1000, 120, 5));\n\n\t\t// Select just hatched pokemon\n\t\tthis.concatToMacro(generateButtonPress(\"down\",  240, 120, 1));\n\n\t\t// Finish dialogue\n\t\tthis.concatToMacro(generateButtonPress(   \"a\", 1000, 120, 3));\n\t}\n\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\n\t\tlet count = 0;\n\n\t\twhile(count < this.parameters.eggsInBox) {\n\t\t\tthis.concatToMacro(this.getMacro(\"OpenBox\"));\n\n\t\t\t// Hatch Egg\n\t\t\tthis.HatchSegment();\n\n\t\t\t// Go back to the Nursery\n\t\t\tthis.BackToNursery();\n\n\t\t\t// Pick Up Egg\n\t\t\tthis.PickUpEgg();\n\n\t\t\t// Select the PC\n\t\t\tthis.concatToMacro(generateButtonPress(    \"x\", 180,  840, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(\"right\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(   \"up\", 180,  240, 1));\n\t\t\tthis.concatToMacro(generateButtonPress(    \"b\", 180, 1720, 1));\n\t\t\tthis.concatToMacro(generateButtonPress( \"plus\", 180, 1200, 1));\n\t\t}\n\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n*/\n\nclass CraftingMacroBuilder extends MacroBuilder {\n\tconstructor(jsonM) {\n\t\tsuper(jsonM, \"Crafting\", \"./images/wonderbox_icon.png\");\n\n\t\tthis.parameters.count    = 1;\n\t\tthis.parameters.waitTime = 25;\n\n\t\tthis.onCountChange    = this.onCountChange.bind(this);\n\t\tthis.onWaitTimeChange = this.onWaitTimeChange.bind(this);\n\n\t\tthis.paramHandlers = {\n\t\t\tcount  : this.onCountChange,\n\t\t\twaitTime : this.onWaitTimeChange\n\t\t};\n\t\t\n\t\tvar text1 = (\n\t\t\t<p>\n\t\t\t\tGive Tom Nook 4 million Bells now and he might consider sparing your villagers.\n\t\t\t</p>\n\t\t);\n\n\t\tvar text2 = (\n\t\t\t<p>\n\t\t\t\tMr. Nook will be here soon. <small>soon.</small>\n\t\t\t</p>\n\t\t);\n\n\t\tthis.info = [\n\t\t\t{\n\t\t\t\ttitle: \"Hostage Demand\",\n\t\t\t\ttext: text1\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Warning\",\n\t\t\t\ttext: text2\n\t\t\t}\n\t\t];\n\t}\n\n\t// Parameter Handlers\n\tonCountChange(count) {\n\t\tif(this.parameters.count !== count) {\n\t\t\tthis.parameters.count = count;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tonWaitTimeChange(time) {\n\t\tif(this.parameters.waitTime !== time) {\n\t\t\tthis.parameters.waitTime = time;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\t\n\n\t/*\n\t// Build Macro\n\tSelectInBox(column, row) {\n\t\tvar segments = this.getMacro(\"SelectInBox\");\n\n\t\tlet dx = column;\n\t\tlet dy = row;\n\n\t\tif(dx > 0) {\n\t\t\tsegments[0].macro[0].count = dx;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[1].count = -1 * dx;\n\t\t}\n\n\t\tif(dy > 0) {\n\t\t\tsegments[0].macro[2].count = dy;\n\t\t}\n\t\telse {\n\t\t\tsegments[0].macro[3].count = -1 * dy;\n\t\t}\n\n\t\tthis.concatToMacro(segments);\n\t}\n\n\tConcludeTrade() {\n\t\tvar segments = this.getMacro(\"EndWonder\");\n\n\t\tsegments[0].macro[2].offTime = this.parameters.waitTime * 1000;\n\n\t\tthis.concatToMacro(segments);\n\t}\n\t*/\n\tbuild() {\n\t\tif(!this.jsonManager.loadConcluded) return null;\n\n\t\tthis.macroJSON = []; // Clear Macro JSON\n\t\t/*\n\t\tvar count  = 0;\n\t\tvar row    = 0;\n\t\tvar column = 0;\n\n\t\tfor(; row < 5; row++) {\n\t\t\tfor(column = 0; column < 6; column++) {\n\t\t\t\tthis.concatToMacro(this.getMacro(\"StartWonder\"));\n\n\t\t\t\tthis.SelectInBox(column, row);\n\n\t\t\t\tthis.ConcludeTrade();\n\n\t\t\t\tcount++;\n\t\t\t\tif(count >= this.parameters.count) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(count >= this.parameters.count) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t*/\n\t\tthis.concatToMacro(this.getMacro(\"Crafting\"));\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\n\n\t\treturn this.macro;\n\t}\n}\n//\n// - APP Components\n//\n\nclass Macro {\n\tconstructor(name, icon, segments) {\n\t\tthis.name = name;\n\t\tthis.icon = icon;\n\n\t\tthis.state = MacroStates.INACTIVE;\n\n\t\tthis.commands = [];\n\n\t\tthis.onWait = false;\n\n\t\tthis.runner = null;\n\n\t\tthis.segments = segments;\n\n\t\tthis.totalSteps = 0;\n\t\tthis.currentOverallStep = 0;\n\n\t\tthis.totalTime = 0;\n\n\t\tvar i;\n\t\tfor(i = 0; i < this.segments.length; i++) {\n\t\t\tvar segment = this.segments[i];\n\n\t\t\tvar subTotal = 0;\n\n\t\t\tvar j;\n\t\t\tfor(j = 0; j < segment.macro.length; j++) {\n\t\t\t\tvar step = segment.macro[j];\n\n\t\t\t\tsubTotal += step.count;\n\t\t\t}\n\n\t\t\tthis.totalSteps += subTotal * segment.count;\n\t\t}\n\t}\n\n\tprogress() {\n\t\tif(this.totalSteps === 0) return 1;\n\n\t\treturn this.currentOverallStep / this.totalSteps;\n\t}\n\n\tstartRunner() {\n\t\tvar f = function* () {\n\t\t\tthis.currentOverallStep = 0;\n\n\t\t\tvar info = {state : this.state, abort : false};\n\n\t\t\t// For each Segment of the Macro\n\t\t\tvar i = 0;\n\t\t\tfor(; i < this.segments.length; i++) {\n\t\t\t\tvar segment = this.segments[i];\n\n\t\t\t\tvar steps = segment.macro;\n\t\t\t\tvar reps  = segment.count;\n\n\t\t\t\t// For each Repetition of the Segment\n\t\t\t\tvar j = 0;\n\t\t\t\tfor(; j < reps; j++) {\n\n\t\t\t\t\t// For each Step of the Segment\n\t\t\t\t\tvar k = 0;\n\t\t\t\t\tfor(; k < steps.length; k++) {\n\n\t\t\t\t\t\t// If play has not been pressed or has been paused\n\t\t\t\t\t\twhile(this.state !== MacroStates.PLAYING) {\n\t\t\t\t\t\t\tinfo = yield undefined; // Yield\n\n\t\t\t\t\t\t\tif(info.abort) return;\n\n\t\t\t\t\t\t\tthis.state = info.state;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get current Step\n\t\t\t\t\t\tvar step = steps[k];\n\n\t\t\t\t\t\t// Make commands\n\t\t\t\t\t\tlet command = this.makeCommand(step.button,  true, step.strength, step.angle);\n\t\t\t\t\t\tlet reset   = this.makeCommand(step.button, false,             0,          0);\n\n\t\t\t\t\t\t// Check if input blocks progress\n\t\t\t\t\t\tlet block = step.block === undefined || step.block === true;\n\n\t\t\t\t\t\t// For each repetition of the Step\n\t\t\t\t\t\tvar l = 0;\n\t\t\t\t\t\tfor(l = 0; l < step.count; l++) {\n\t\t\t\t\t\t\tthis.commands.push(command);\n\n\t\t\t\t\t\t\t// Set timed command\n\t\t\t\t\t\t\tthis.timedCommand(reset, block, Math.max(step.onTime, 20));\n\n\t\t\t\t\t\t\tyield this.commands;\n\t\t\t\t\t\t\tthis.commands = [];\n\n\t\t\t\t\t\t\t// Wait\n\t\t\t\t\t\t\twhile(this.onWait) {\n\t\t\t\t\t\t\t\tinfo = yield undefined;\n\t\t\t\t\t\t\t\tif(info.abort) return;\n\t\t\t\t\t\t\t\tthis.state = info.state;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// If there is a buffer before the next button press\n\t\t\t\t\t\t\tif(block === true && step.offTime > 0) {\n\t\t\t\t\t\t\t\tthis.onWait = true;\n\n\t\t\t\t\t\t\t\t// Set timer for the wait before pressing the next button\n\t\t\t\t\t\t\t\tthis.timedCommand(null, block, Math.max(step.offTime, 20));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tyield this.commands;\n\t\t\t\t\t\t\tthis.commands = [];\n\n\t\t\t\t\t\t\t// Wait for timer to elapse and to not be paused\n\t\t\t\t\t\t\twhile(this.onWait || this.state === MacroStates.PAUSED) {\n\t\t\t\t\t\t\t\tinfo = yield undefined;\n\t\t\t\t\t\t\t\tif(info.abort) return;\n\t\t\t\t\t\t\t\tthis.state = info.state;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.currentOverallStep++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t};\n\n\t\t// Create the Coroutine\n\t\tthis.runner = coroutine(f, this);\n\t}\n\n\tmakeCommand(button, pressed, strength, angle) {\n\t\treturn {\n\t\t\tbutton   : button,\n\t\t\tpressed  : pressed,\n\t\t\tstrength : strength,\n\t\t\tangle    : angle\n\t\t};\n\t}\n\n\ttimedCommand(command, blocking, duration) {\n\t\tsetTimeout(this.issueCommand, duration, this, command, blocking); // New Timer\n\n\t\t// Block Macro progress\n\t\tthis.onWait = blocking;\n\t}\n\n\tissueCommand(obj, command, blocking) {\n\t\tif(command !== null) {\n\t\t\tobj.commands.push(command);\n\t\t}\n\n\t\t// If step was blocking, unblock\n\t\tif(blocking) obj.onWait = false;\n\t}\n\n\treset() {\n\t\tthis.state = MacroStates.INACTIVE;\n\n\t\tif(this.onWait) {\n\t\t\tthis.onWait = false;\n\n\t\t\tclearTimeout(this.waitTimeout);\n\n\t\t\tthis.waitTimeout = null;\n\t\t}\n\n\t\tthis.currentOverallStep = 0;\n\n\t\tif(this.runner !== null) {\n\t\t\tthis.runner({state : this.state, abort : true});\n\n\t\t\tthis.runner = null;\n\t\t}\n\t}\n\n\ttoString() {\n\t\tlet text = \"Macro - \\n\";\n\n\t\tlet i = 0;\n\t\tfor(; i < this.segments.length; i++) {\n\t\t\tlet seg = this.segments[i];\n\n\t\t\ttext += \"\\t\" + seg.name + \" x\" + seg.count.toString() + \"\\n\";\n\t\t}\n\n\t\treturn text;\n\t}\n}\n\nclass MacroPlayer {\n\tconstructor() {\n\t\tthis.state = { selectedMacro : 0,\n\t\t\tplayState     : 0,\n\t\t\tmacroProgress : 0,\n\t\t\tloadConcluded : false\n\t\t};\n\n\t\t// Create JSON Manager\n\t\tthis.jsonManager = new JSONManeger();\n\n\t\t// Create Macro Builders\n\t\tthis.builders = [];\n\t\tthis.builders[0] = new TimeSkipMacroBuilder(this.jsonManager);\n\t\tthis.builders[1] = new LotoIDMacroBuilder(this.jsonManager);\n\t\tthis.builders[2] = new CraftingMacroBuilder(this.jsonManager);\n\t\tthis.builders[3] = new EggHatcherMacroBuilder(this.jsonManager);\n\n\t\tlet macroCount = this.builders.length;\n\n\t\t// Init Dirty Bit Array\n\t\tthis.dirtyMacro = Array(macroCount).fill(false);\n\n\t\t// Init Macro Array\n\t\tthis.macros = Array(macroCount).fill(null);\n\n\t\tthis.selectMacro = this.selectMacro.bind(this);\n\t\tthis.changeParameter = this.changeParameter.bind(this);\n\t}\n\n\tcheckLoadConcluded() {\n\t\tvar concluded = this.jsonManager.loadConcluded;\n\n\t\tif(!concluded) return;\n\n\t\tvar i = 0;\n\t\tfor(; i < this.builders.length; i++) {\n\t\t\tthis.buildMacro(i); // Build macro\n\n\t\t\tif(this.macros[i] === null || this.macros[i] === undefined) {\n\t\t\t\tconcluded = false;\n\t\t\t}\n\t\t}\n\n\t\tthis.state.loadConcluded = concluded;\n\t}\n\n\tselectMacro(index) {\n\t\tif(this.state.selectedMacro === index) return false;\n\n\t\tvar audio = new Audio(\"/click.mp3\");\n\t\taudio.play();\n\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\n\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\n\t\t\tcurrentMacro.reset();\n\n\t\t\tthis.state.playState = MacroStates.INACTIVE;\n\t\t\tthis.state.macroProgress = 0;\n\t\t}\n\n\t\tthis.state.selectedMacro = index;\n\n\t\treturn true;\n\t}\n\n\tchangeParameter(key, value) {\n\t\tlet builder = this.builders[this.state.selectedMacro];\n\n\t\tif(builder.changeParameter(key, value)) {\n\t\t\tthis.dirtyMacro[this.state.selectedMacro] = true;\n\t\t}\n\t}\n\n\tplay() {\n\t\tvar index = this.state.selectedMacro;\n\n\t\tvar currentMacro = this.macros[index];\n\t\tvar isDirty      = this.dirtyMacro[index];\n\n\t\tswitch(currentMacro.state) {\n\t\t\tdefault:\n\t\t\tcase MacroStates.PLAYING:\n\t\t\tcase MacroStates.PAUSED:\n\t\t\tbreak;\n\n\t\t\tcase MacroStates.INACTIVE:\n\t\t\tcase MacroStates.FINISHED:\n\t\t\t\tif(currentMacro.state === MacroStates.FINISHED) {\n\t\t\t\t\tcurrentMacro.reset();\n\t\t\t\t}\n\n\t\t\t\tif(isDirty) {\n\t\t\t\t\tthis.dirtyMacro[index] = false;\n\n\t\t\t\t\tthis.buildMacro(index);\n\n\t\t\t\t\tcurrentMacro = this.macros[index];\n\t\t\t\t}\n\n\t\t\t\tcurrentMacro.startRunner();\n\t\t\tbreak;\n\t\t}\n\n\t\tcurrentMacro.state = MacroStates.PLAYING;\n\n\t\tthis.state.playState = MacroStates.PLAYING;\n\n\t\treturn true;\n\t}\n\n\tpause() {\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\n\n\t\tif(currentMacro.state === MacroStates.PLAYING) {\n\t\t\tcurrentMacro.state = MacroStates.PAUSED;\n\n\t\t\tthis.state.playState = MacroStates.PAUSED;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\treset() {\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\n\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\n\t\t\tcurrentMacro.reset();\n\n\t\t\tthis.state.playState = MacroStates.INACTIVE\n\t\t\tthis.state.macroProgress = 0;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tgetMacroState() {\n\t\treturn { macroState : this.state.playState,\n\t\t\t\tmacroProgress : this.state.macroProgress };\n\t}\n\n\tgetAllMacroData() {\n\t\tlet dataArray = [];\n\n\t\tlet i = 0;\n\t\tfor(; i < this.builders.length; i++) {\n\t\t\tlet builder = this.builders[i];\n\n\t\t\tdataArray[i] = builder.getRenderData();\n\t\t}\n\n\t\treturn dataArray;\n\t}\n\n\tgetCurrentMacroData() {\n\t\tvar builder = this.builders[this.state.selectedMacro];\n\n\t\treturn builder.getRenderData();\n\t}\n\n\tbuildMacro(index) {\n\t\tvar builder = this.builders[index];\n\n\t\tvar macro = builder.build(this.parameters);\n\n\t\tthis.macros[index] = macro;\n\n\t\tconsole.log(macro.toString());\n\t}\n\n\tupdateMacros() {\n\t\tvar i = 0;\n\t\tfor(; i < this.macroBuilders.length; i++) {\n\t\t\tvar dirty   = this.macroParamsDirty[i];\n\n\t\t\tif(dirty) {\n\t\t\t\tthis.buildMacro(i);\n\n\t\t\t\tthis.macroParamsDirty[i] = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate() {\n\t\tvar response = undefined;\n\n\t\tif(!this.state.loadConcluded) {\n\t\t\tthis.checkLoadConcluded();\n\t\t}\n\n\t\t// If Load has been completed\n\t\tif(this.state.loadConcluded) {\n\t\t\tvar runResult = undefined;\n\n\t\t\t// Get current Macro\n\t\t\tvar currentMacro = this.macros[this.state.selectedMacro];\n\n\t\t\tif(currentMacro === undefined || currentMacro === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//console.log(currentMacro.state);\n\t\t\tswitch(currentMacro.state) {\n\t\t\t\tdefault:\n\t\t\t\tcase MacroStates.INACTIVE:\n\t\t\t\tcase MacroStates.FINISHED:\n\t\t\t\treturn;\n\n\t\t\t\tcase MacroStates.PLAYING:\n\t\t\t\t\trunResult = currentMacro\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\n\t\t\t\tbreak;\n\n\t\t\t\tcase MacroStates.PAUSED:\n\t\t\t\t\trunResult = currentMacro\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// If a result was obtained\n\t\t\tif(runResult !== undefined) {\n\t\t\t\t// If the result includes a value\n\t\t\t\tif(runResult.value !== undefined) {\n\t\t\t\t\tresponse = runResult.value;\n\t\t\t\t}\n\n\t\t\t\tif(runResult.done) currentMacro.state = MacroStates.FINISHED;\n\t\t\t}\n\n\t\t\tthis.state.playState = currentMacro.state;\n\t\t\tthis.state.macroProgress = currentMacro.progress() * 100;\n\t\t}\n\n\t\treturn response;\n\t}\n}\n\nclass KeyLogger {\n\tconstructor() {\n\t\tthis.keys = {\n\t\t\ta               : {pressed : false, pendingLog: null},\n\t\t\tb               : {pressed : false, pendingLog: null},\n\t\t\tx               : {pressed : false, pendingLog: null},\n\t\t\ty               : {pressed : false, pendingLog: null},\n\t\t\tl               : {pressed : false, pendingLog: null},\n\t\t\tlsl             : {pressed : false, pendingLog: null},\n\t\t\tlsr             : {pressed : false, pendingLog: null},\n\t\t\tr               : {pressed : false, pendingLog: null},\n\t\t\trsl             : {pressed : false, pendingLog: null},\n\t\t\trsr             : {pressed : false, pendingLog: null},\n\t\t\tplus            : {pressed : false, pendingLog: null},\n\t\t\tminus           : {pressed : false, pendingLog: null},\n\t\t\tup              : {pressed : false, pendingLog: null},\n\t\t\tright           : {pressed : false, pendingLog: null},\n\t\t\tleft            : {pressed : false, pendingLog: null},\n\t\t\tdown            : {pressed : false, pendingLog: null},\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\n\t\t\thome            : {pressed : false, pendingLog: null}\n\t\t};\n\n\t\tthis.startTime = 0;\n\n\t\tthis.log = [];\n\t\tthis.log_count = 0;\n\t}\n\n\tclear() {\n\t\tthis.keys = {\n\t\t\ta               : {pressed : false, pendingLog: null},\n\t\t\tb               : {pressed : false, pendingLog: null},\n\t\t\tx               : {pressed : false, pendingLog: null},\n\t\t\ty               : {pressed : false, pendingLog: null},\n\t\t\tl               : {pressed : false, pendingLog: null},\n\t\t\tlsl             : {pressed : false, pendingLog: null},\n\t\t\tlsr             : {pressed : false, pendingLog: null},\n\t\t\tr               : {pressed : false, pendingLog: null},\n\t\t\trsl             : {pressed : false, pendingLog: null},\n\t\t\trsr             : {pressed : false, pendingLog: null},\n\t\t\tplus            : {pressed : false, pendingLog: null},\n\t\t\tminus           : {pressed : false, pendingLog: null},\n\t\t\tup              : {pressed : false, pendingLog: null},\n\t\t\tright           : {pressed : false, pendingLog: null},\n\t\t\tleft            : {pressed : false, pendingLog: null},\n\t\t\tdown            : {pressed : false, pendingLog: null},\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\n\t\t\thome            : {pressed : false, pendingLog: null}\n\t\t};\n\n\t\tthis.startTime = 0;\n\n\t\tthis.log = [];\n\t\tthis.log_count = 0;\n\t}\n\n\tpressKey(key, time) {\n\t\tif(key !== \"buffer\") {\n\t\t\tlet info = this.keys[key];\n\n\t\t\t// If key is not pressed\n\t\t\tif(info.pressed === false) {\n\t\t\t\tinfo.pressed = true;\n\n\t\t\t\tif(this.startTime === 0) {\n\t\t\t\t\tthis.startTime = time;\n\t\t\t\t}\n\n\t\t\t\tinfo.pendingLog = this.addLogEntry(key, time - this.startTime);\n\t\t\t}\n\n\t\t\tthis.keys[key] = info;\n\t\t}\n\t}\n\n\taddLogEntry(key, time) {\n\t\tlet entry = {index: this.log_count, key: key, start: time, duration: 0}\n\n\t\tthis.log[this.log_count] = entry;\n\n\t\tthis.log_count++;\n\n\t\treturn entry;\n\t}\n\n\treleaseKey(key, time) {\n\t\tif(key !== \"buffer\") {\n\t\t\tlet info = this.keys[key];\n\n\t\t\tif(info.pressed === true) {\n\t\t\t\tinfo.pressed = false;\n\n\t\t\t\tlet entry = info.pendingLog;\n\t\t\t\tinfo.pendingLog = null;\n\n\t\t\t\tentry.duration = time - entry.start - this.startTime;\n\n\t\t\t\tthis.log[entry.index] = entry;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetPressed() {\n\t\tlet pressedKeys = [];\n\n\t\tfor(let entry in this.keys) {\n\t\t\tlet info = this.keys[entry];\n\n\t\t\tif(info.pressed === true) {\n\t\t\t\tpressedKeys.push(entry);\n\t\t\t}\n\t\t}\n\n\t\treturn pressedKeys;\n\t}\n\n\tupdate(key, pressed) {\n\t\tlet time = (new Date()).getTime();\n\n\t\t// If key is being pressed\n\t\tif(pressed) {\n\t\t\tthis.pressKey(key, time);\n\t\t}\n\t\t// If key is being released\n\t\telse {\n\t\t\tthis.releaseKey(key, time);\n\t\t}\n\t}\n\n\trenderPressed() {\n\t\tlet info = Object.entries(this.keys);\n\n\t\tlet render = [];\n\t\tlet count  =  0;\n\n\t\tlet i = 0;\n\t\tfor(; i < info.length; i++) {\n\t\t\tlet keyData = info[i];\n\n\t\t\tif(keyData[1].pressed === true) {\n\t\t\t\trender[count] = (\n\t\t\t\t\t<div className = \"pressedKey\" key = {keyData[0]}>\n\t\t\t\t\t\t{keyData[0]}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div id = \"PressedKeys\">\n\t\t\t\t<b> Pressed </b>\n\t\t\t\t{render}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderLogged() {\n\t\tvar keyLogs = [];\n\n\t\tif(this.log_count > 0) {\n\t\t\tvar i = 0;\n\t\t\tfor(; i < Math.min(3, this.log_count); i++) {\n\t\t\t\tvar l = this.log[this.log_count - (i + 1)];\n\t\t\t\tkeyLogs.push(\n\t\t\t\t\t<KeyLog key = {\"keylog_\" + i} index = {l.index.toString()}\n\t\t\t\t\t\tpressedKey = {l.key} start = {l.start} duration = {l.duration}/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div id = \"KeyLogs\">\n\t\t\t\t{keyLogs}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n//\n// - APP\n//\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\n\t\tthis.onButtonEvent   = this.onButtonEvent.bind(this);\n\t\tthis.selectMacro     = this.selectMacro.bind(this);\n\t\tthis.parameterChange = this.parameterChange.bind(this);\n\n\t\tthis.macroPlayer = new MacroPlayer();\n\n\t\tthis.keyLogger = new KeyLogger();\n\t\tthis.currentTime = 0;\n\n\t\tthis.state = {selectedMacro :  0,\n\t\t\t\t\t  macroState    : -1,\n\t\t\t\t\t  macroProgress :  0,\n\t\t\t\t\t\tdisplayInfo   : false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.UpdateTimerId = setInterval(\n\t\t\t() => this.update(),\n\t\t\t20\n\t\t);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.UpdateTimerId);\n\t}\n\n\tupdate() {\n\t\tthis.currentTime += 20;\n\n\t\tvar res = this.macroPlayer.update(this.currentTime);\n\n\t\tthis.setState(this.macroPlayer.getMacroState());\n\n\t\t// If there was an Update\n\t\tif(res !== undefined) {\n\t\t\t// Iterate the Log\n\t\t\tlet i;\n\t\t\tfor(i = 0; i < res.length; i++) {\n\t\t\t\tlet command = res[i];\n\n\t\t\t\t// If it was a JoyStick Update\n\t\t\t\tif(command.button === \"right_stick_dir\" ||\n\t\t\t\t\t command.button === \"left_stick_dir\") {\n\t\t\t\t\tthis.handleSwitchJoySticks(command.button, command.strength, command.angle);\n\t\t\t\t}\n\n\t\t\t\t// If it was a Key Update\n\t\t\t\telse {\n\t\t\t\t\tthis.handleSwitchKeys(command.button, command.pressed);\n\t\t\t\t}\n\n\t\t\t\tthis.keyLogger.update(command.button, command.pressed);\n\t\t\t}\n\t\t}\n\t}\n\n\tonButtonEvent(name) {\n\t\tvar audio = new Audio(\"/click.mp3\");\n    audio.play();\n\n\t\tswitch (name) {\n\t\t\tdefault:\n\t\t\treturn;\n\n\t\t\tcase \"play\":\n\t\t\t\tthis.macroPlayer.play();\n\t\t\tbreak;\n\n\t\t\tcase \"pause\":\n\t\t\t\tthis.macroPlayer.pause();\n\t\t\tbreak;\n\n\t\t\tcase \"reset\":\n\t\t\t\tif(this.macroPlayer.reset()) {\n\t\t\t\t\tvar pressedKeys = this.keyLogger.getPressed();\n\n\t\t\t\t\tlet i;\n\t\t\t\t\tfor(i = 0; i < pressedKeys.length; i++) {\n\t\t\t\t\t\tlet key = pressedKeys[i];\n\n\t\t\t\t\t\tif(key === \"left_stick_dir\" ||\n\t\t\t\t\t\t\t key === \"right_stick_dir\") {\n\t\t\t\t\t\t\tthis.handleSwitchJoySticks(key, 0, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.handleSwitchKeys(key, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.keyLogger.clear();\n\t\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase \"info\":\n\t\t\t\tlet pressed = !this.state.displayInfo;\n\t\t\t\tthis.setState({displayInfo: pressed});\n\t\t\tbreak;\n\t\t}\n\n\t\tthis.setState(this.macroPlayer.getMacroState());\n\t}\n\n\tselectMacro(index) {\n\t\tif(this.macroPlayer.selectMacro(index)) {\n\t\t\tthis.keyLogger.clear();\n\t\t}\n\t}\n\n\tparameterChange(key, value) {\n\t\tthis.macroPlayer.changeParameter(key, value);\n\t}\n\n\thandleSwitchJoySticks(joystick, strength, angle) {\n\t\tlet rads = degToRad(angle);\n\n\t\tif(window.joyconJS === undefined) return;\n\n\t\tif(joystick === \"right_stick_dir\") {\n\t\t\twindow.joyconJS.onRightJoystick(strength, rads);\n\t\t}\n\n\t\tif(joystick === \"left_stick_dir\") {\n\t\t\twindow.joyconJS.onLeftJoystick(strength, rads);\n\t\t}\n\t}\n\n\thandleSwitchKeys(name, pressed) {\n\t\tif(window.joyconJS === undefined) return;\n\n\t\tif(name === \"minus\") {\n\t\t\twindow.joyconJS.onMinus(pressed);\n\t\t}\n\n\t\tif(name === \"left-stick\") {\n\t\t\twindow.joyconJS.onLeftJoystickPressed(pressed);\n\t\t}\n\n\t\tif(name === \"up\") {\n\t\t\twindow.joyconJS.onUp(pressed);\n\t\t}\n\n\t\tif(name === \"right\") {\n\t\t\twindow.joyconJS.onRight(pressed);\n\t\t}\n\n\t\tif(name === \"down\") {\n\t\t\twindow.joyconJS.onDown(pressed);\n\t\t}\n\n\t\tif(name === \"left\") {\n\t\t\twindow.joyconJS.onLeft(pressed);\n\t\t}\n\n\t\tif(name === \"l\") {\n\t\t\twindow.joyconJS.onL(pressed);\n\t\t}\n\n\t\tif(name === \"lsl\") {\n\t\t\twindow.joyconJS.onLeftSL(pressed);\n\t\t}\n\n\t\tif(name === \"lsr\") {\n\t\t\twindow.joyconJS.onLeftSR(pressed);\n\t\t}\n\n\t\tif(name === \"plus\") {\n\t\t\twindow.joyconJS.onPlus(pressed);\n\t\t}\n\n\t\tif(name === \"a\") {\n\t\t\twindow.joyconJS.onA(pressed);\n\t\t}\n\n\t\tif(name === \"b\") {\n\t\t\twindow.joyconJS.onB(pressed);\n\t\t}\n\n\t\tif(name === \"x\") {\n\t\t\twindow.joyconJS.onX(pressed);\n\t\t}\n\n\t\tif(name === \"y\") {\n\t\t\twindow.joyconJS.onY(pressed);\n\t\t}\n\n\t\tif(name === \"r\") {\n\t\t\twindow.joyconJS.onR(pressed);\n\t\t}\n\n\t\tif(name === \"rsl\") {\n\t\t\twindow.joyconJS.onRightSL(pressed);\n\t\t}\n\n\t\tif(name === \"rsr\") {\n\t\t\twindow.joyconJS.onRightSR(pressed);\n\t\t}\n\n\t\tif(name === \"right-stick\") {\n\t\t\twindow.joyconJS.onRightJoystickPressed(pressed);\n\t\t}\n\n\t\tif(name === \"home\") {\n\t\t\twindow.joyconJS.onHome(pressed);\n\t\t}\n\t}\n\n\trenderMacros() {\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\n\n\t\tlet selected = this.macroPlayer.state.selectedMacro;\n\n\t\tlet data = this.macroPlayer.getAllMacroData();\n\n\t\tlet index = -1;\n\n\t\treturn data.map((entry) => {\n\t\t\t\tindex++;\n\n\t\t\t\tvar isSelected = selected === index;\n\n\t\t\t\treturn (\n\t\t\t\t\t<MacroButton key = {\"macro_\" + index.toString()} index = {index}\n\t\t\t\t\t\tselected = {isSelected} name = {entry.name} src = {entry.icon}\n\t\t\t\t\t\tclickHandler = {this.selectMacro}/>\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t}\n\n\trenderParameters() {\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\n\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\n\n\t\treturn (\n\t\t\t<ParameterInput key = {\"macroParams\"}\n\t\t\t\tmacro = {data.name} parameters = {data.parameters}\n\t\t\t\teventHandler = {this.parameterChange}/>\n\t\t);\n\t}\n\n\trenderInfo() {\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\n\t\tlet name = data.name;\n\t\tlet info = data.info;\n\n\t\treturn (\n\t\t\t<div id = \"Info\">\n\t\t\t\t<button className = \"info-button\" id = \"InfoButton\"\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", true)}\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", true)}>\n\t\t\t\t\tInfo\n\t\t\t\t</button>\n\t\t\t\t<InfoOverlay show = {this.state.displayInfo}\n\t\t\t\t\ttitle = {name} sections = {info}\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", false)}\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", false)}/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst pressed = this.keyLogger.renderPressed();\n\t\tconst logging = this.keyLogger.renderLogged();\n\n\t\tconst macros = this.renderMacros();\n\t\tconst parameters = this.renderParameters();\n\t\tconst info = this.renderInfo();\n\n\t\tconst current = this.macroPlayer.state.playState;\n\n\t\treturn (\n\t\t\t<div className = \"App\" style = {{backgroundImage: \"url(./images/background.png)\"}}>\n\t\t\t\t<div className = \"App-header\">\n\t\t\t\t\t<img className = \"icon\" src = \"./images/macro_app_icon.png\" alt = \"AppIcon\"/>\n\t\t\t\t\t<b className = \"App-title\"\n\t\t\t\t\t\tstyle = {{color: \"black\"}}> POKMACROS </b>\n\t\t\t\t</div>\n\t\t\t\t<div id = \"body\">\n\t\t\t\t\t<div id = \"Macros\">\n\t\t\t\t\t\t{macros}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id = \"Parameters\">\n\t\t\t\t\t\t{parameters}\n\t\t\t\t\t\t{info}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id = \"Tracker\">\n\t\t\t\t\t\t<ProgressBar key = \"progressbar\" percentage = {this.state.macroProgress} />\n\t\t\t\t\t\t<div id = \"KeyLogging\">\n\t\t\t\t\t\t\t{pressed}\n\t\t\t\t\t\t\t{logging}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id = \"PlayerButtons\">\n\t\t\t\t\t\t<PlayerButton id = \"ResetButton\" selected = {current === MacroStates.INACTIVE} name = \"Reset\"\n\t\t\t\t\t\t\tsrc = \"./images/reset_icon.png\" clickHandler = {e => this.onButtonEvent(\"reset\")}/>\n\t\t\t\t\t\t<PlayerButton id = \"PlayButton\" selected = {current === MacroStates.PLAYING} name = \"Play\"\n\t\t\t\t\t\t\tsrc = \"./images/play_icon.png\" clickHandler = {e => this.onButtonEvent(\"play\")}/>\n\t\t\t\t\t\t<PlayerButton id = \"PauseButton\" selected = {current === MacroStates.PAUSED} name = \"Pause\"\n\t\t\t\t\t\t\tsrc = \"./images/pause_icon.png\" clickHandler = {e => this.onButtonEvent(\"pause\")}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}